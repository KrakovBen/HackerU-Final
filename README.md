# מערכת מתכונים - BisBook

## תיאור כללי
BisBook היא מערכת לניהול ושיתוף מתכונים, הכוללת צד לקוח (React) וצד שרת (Node.js + Express + MongoDB).  
המערכת תומכת בהרשאות משתמשים, יצירת מתכונים, העלאת תמונות, לייקים, וניהול משתמשים דרך ממשק CRM.

---

## טכנולוגיות בשימוש
### צד לקוח (Client)
- **React**: ספריית JavaScript לבניית ממשקי משתמש.
- **Material-UI (MUI)**: ספריית רכיבים לעיצוב.
- **React Router**: ניתוב בין דפים.
- **Axios**: קריאות HTTP לשרת.
- **Joi**: ולידציה של טפסים בצד לקוח.
- **SCSS/CSS**: עיצוב מותאם.

### צד שרת (Server)
- **Node.js + Express**: שרת API.
- **MongoDB + Mongoose**: מסד נתונים NoSQL.
- **JWT (JSON Web Token)**: אימות משתמשים.
- **bcrypt**: הצפנת סיסמאות.
- **Multer**: העלאת קבצים (תמונות מתכונים).
- **Morgan**: לוגים של בקשות.
- **Config**: ניהול הגדרות לפי סביבות (פיתוח, ייצור).

---

## מבנה תיקיות
```
project/
├── client/                # צד לקוח - React
│   ├── src/
│   │   ├── assets/        # תמונות וקבצים סטטיים
│   │   ├── components/    # רכיבים כלליים (PageHeader, Spinner וכו')
│   │   ├── forms/         # רכיבי טפסים והוקים לניהול טפסים
│   │   ├── layout/        # מבנה עמודים (Header, Footer)
│   │   ├── pages/         # דפים כלליים (תקנון, פרטיות, 404)
│   │   ├── providers/     # Context Providers (Theme, Snackbar)
│   │   ├── recipes/       # כל מה שקשור למתכונים
│   │   ├── users/         # כל מה שקשור למשתמשים
│   │   ├── routes/        # מודל ראוטים והגדרות Router
│   │   ├── style/         # קבצי עיצוב גלובליים
│   │   └── utils/         # פונקציות עזר
│   └── package.json       # הגדרות צד לקוח
│
├── server/                # צד שרת - Node.js
│   ├── auth/              # אימות משתמשים (JWT)
│   ├── config/            # קבצי קונפיג לכל סביבה
│   ├── db/                # חיבור למסד הנתונים
│   ├── initialData/       # נתונים התחלתיים
│   ├── logger/            # לוגים (Morgan)
│   ├── middlewares/       # מידלוורים (CORS, העלאת קבצים)
│   ├── recipes/           # מודלים, ראוטים, ולידציות למתכונים
│   ├── users/             # מודלים, ראוטים, ולידציות למשתמשים
│   ├── uploads/           # תיקיית קבצים שהועלו
│   ├── utils/             # פונקציות עזר לשרת
│   ├── router/            # Router ראשי
│   ├── server.js          # קובץ כניסה לשרת
│   └── package.json       # הגדרות צד שרת
```

---

## הרשאות במערכת
- **משתמש רגיל**:
  - יכול להירשם ולהתחבר
  - לצפות במתכונים
  - ליצור מתכונים חדשים
  - לערוך ולמחוק רק את המתכונים שיצר
  - לעשות לייק למתכונים
- **אדמין**:
  - כל הרשאות המשתמש הרגיל
  - מחיקת מתכונים של אחרים
  - ניהול משתמשים בממשק CRM

---

## פונקציונליות עיקרית
1. **הרשמה והתחברות**
   - אימות JWT
   - הצפנת סיסמאות ב-bcrypt
2. **ניהול מתכונים**
   - יצירה, עריכה, מחיקה
   - העלאת תמונה ייחודית לכל מתכון
   - לייקים
3. **ממשק משתמש**
   - עמודי מתכון
   - קטגוריות
   - חיפוש
4. **עמודים כלליים**
   - תקנון
   - מדיניות פרטיות
   - עמוד 404
5. **ניהול משתמשים**
   - צפייה ברשימת משתמשים
   - מחיקת משתמשים (Admin)

---

## API צד שרת
### מתכונים
- `GET /api/recipes` – קבלת כל המתכונים
- `GET /api/recipes/:id` – קבלת מתכון לפי מזהה
- `POST /api/recipes` – יצירת מתכון חדש
- `PUT /api/recipes/:id` – עדכון מתכון
- `DELETE /api/recipes/:id` – מחיקת מתכון
- `POST /api/recipes/:id/image` – העלאת תמונה למתכון
- `PATCH /api/recipes/:id/like` – לייק/הסרת לייק

### משתמשים
- `POST /api/users/register` – הרשמה
- `POST /api/users/login` – התחברות
- `GET /api/users` – קבלת כל המשתמשים (Admin)
- `DELETE /api/users/:id` – מחיקת משתמש (Admin)

---

## התקנה והרצה
### צד שרת
```bash
cd server
npm install
npm run dev
```
שרת ברירת מחדל: `http://localhost:8181`

### צד לקוח
```bash
cd client
npm install
npm start
```
לקוח ברירת מחדל: `http://localhost:3000`

---

## דרישות מערכת
- Node.js 18+
- MongoDB 6+
- npm 9+
